(this.webpackJsonpnetdisk=this.webpackJsonpnetdisk||[]).push([[0],{206:function(e,t,n){e.exports=n(414)},211:function(e,t,n){},414:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(3),r=n.n(c),i=(n(211),n(55)),l=n(56),u=n(60),s=n(57),d=n(61),f=n(419),p=n(415),h=(n(128),n(417)),m=n(179),g=n(420),b=n(98),v=n(125),y=n.n(v),k=n(168),O=n(169),j="http://47.98.229.148:2001";function w(e,t){return console.log(e,t),function(n){fetch("".concat(j,"/deletefile?path=").concat(t,"&key=").concat(e)),n(function(e){return{type:"reduce",payload:e}}(e))}}function E(){return console.log(-1),function(){var e=Object(O.a)(y.a.mark((function e(t,n){var a,o,c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(j,"/getallfileinfo"),e.next=3,fetch(a);case 3:return o=e.sent,e.next=6,o.json();case 6:c=e.sent,r=(r=c.data).map((function(e){return Object(k.a)({},e,{key:e.filekey})})),console.log(0),t({type:"data",payload:r}),console.log(1);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var L=n(203);function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"add"===t.type?[].concat(Object(L.a)(e),[t.payload]):"reduce"===t.type?e.filter((function(e){return e.key!==t.payload})):"data"===t.type?t.payload:e}var C=n(70),I=n(170),S=n.n(I),R=n(171),U=Object(C.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={fileinfo:x(e.fileinfo,t)};return n}),Object(C.a)(R.a,S.a));console.log(U.getState());var B=h.a.confirm;var N=[{title:"\u6587\u4ef6\u540d",dataIndex:"filename",key:"filename",render:function(e){return o.a.createElement("a",null,e)}},{title:"\u6587\u4ef6\u5927\u5c0f",dataIndex:"size",key:"size"},{title:"\u4e0a\u4f20\u65e5\u671f",dataIndex:"date",key:"date",sorter:function(e,t){return e.date-t.date}},{title:"\u6587\u4ef6\u7c7b\u578b",key:"tags",dataIndex:"tags",render:function(e){return o.a.createElement("span",null,o.a.createElement(f.a,{color:"volcano"},e))}},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return o.a.createElement("span",null,o.a.createElement("a",{style:{marginRight:16},onClick:function(){var e,n;e=t.key,n=t.path,B({title:"\u4f60\u786e\u5b9a\u4f60\u60f3\u8981\u5220\u9664\u8fd9\u4e2a\u6587\u4ef6\u5417?",icon:o.a.createElement(g.a,null),content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){U.dispatch(w(e,n))},onCancel:function(){}})}},"\u5220\u9664"),o.a.createElement("a",{onClick:function(){var e,n;console.log("\u4e0b\u8f7d"),console.log(t.path),e=t.path,n=t.filename,console.log("\u6211\u8981\u4e0b\u8f7d\u54af"),fetch("".concat(j,"/download?path=").concat(e)).then((function(e){return e.blob()})).then((function(e){if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(e,n);else{var t=document.createElement("a");document.body.appendChild(t);var a=window.URL.createObjectURL(e);t.href=a,t.download=n,t.target="_blank",t.click(),t.remove(),window.URL.revokeObjectURL(a)}}))}},"\u4e0b\u8f7d"))}}],F=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={data:[],curKey:0,isLoading:!0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("000"),this.props.getFileInfo(),this.setState({isLoading:!1})}},{key:"render",value:function(){return o.a.createElement(m.a,{tip:"Loading...",spinning:this.state.isLoading},o.a.createElement(p.a,{columns:N,dataSource:this.props.fileinfo}))}}]),t}(a.Component);var W,z=Object(b.b)((function(e){return{fileinfo:e.fileinfo}}),(function(e){return{getFileInfo:function(){e(E())},deleteFIle:function(t,n){e(w(t,n))}}}))(F),D=n(71),J=n(416),K=n(418),A=n(421),M=J.a.Dragger,$=(W={name:"file",multiple:!0,director:!0,showUploadList:!0,action:"".concat(j,"/upload")},Object(D.a)(W,"name","fileName"),Object(D.a)(W,"onChange",(function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(K.a.success("".concat(e.file.name," \u6587\u4ef6\u4e0a\u4f20\u6210\u529f\uff01.")),U.dispatch(E())):"error"===t&&K.a.error("".concat(e.file.name," \u6587\u4ef6\u4e0a\u4f20\u5931\u8d25."))})),W),_=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(M,$,o.a.createElement("p",{className:"ant-upload-drag-icon"},o.a.createElement(A.a,null)),o.a.createElement("p",{className:"ant-upload-text"},"\u70b9\u51fb\u4e0a\u4f20\u6216\u5c06\u6587\u4ef6\u62d6\u653e\u5230\u8be5\u533a\u57df\u4e0a\u4f20"),o.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"))}}]),t}(a.Component),q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(b.a,{store:U},o.a.createElement(_,null),o.a.createElement(z,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[206,1,2]]]);
//# sourceMappingURL=main.c539f10b.chunk.js.map